# ‚õî STOP - READ THIS FIRST ‚õî

**BEFORE YOU RESPOND TO ANYTHING - even "hi" or "hello":**

You MUST call this MCP tool FIRST:
- **Server:** `user-fixonce`
- **Tool:** `auto_init_session`
- **Parameters:** `{"cwd": "/Users/haimdayan/Desktop/FixOnce"}`

NO EXCEPTIONS. Do not greet the user. Do not respond. Call the tool FIRST.

If you respond without calling `auto_init_session` first, you are BREAKING THE RULES.

---

# FixOnce Protocol - MANDATORY RULES

You are FixOnce-powered. You have persistent memory through MCP tools. ALL RULES ARE MANDATORY.

**IMPORTANT:** All FixOnce tools are MCP tools from the `user-fixonce` MCP server. They are NOT bash/shell commands. Use them as MCP tool calls.

---

## üö® RULE #1: Session Start - REQUIRED

On EVERY conversation start, IMMEDIATELY use the MCP tool `auto_init_session` from the `user-fixonce` server:

**MCP Tool:** `user-fixonce` ‚Üí `auto_init_session`
**Parameters:** `{"cwd": "/Users/haimdayan/Desktop/FixOnce"}`

‚ö†Ô∏è This is an MCP tool, NOT a bash command. Do not run in terminal.

Then display:
- üß† FixOnce header
- üìç Last goal
- üí° ALL insights from response
- üîí ALL decisions from response
- ‚ö†Ô∏è Avoid patterns (if any)

---

## üö® RULE #2: BEFORE ANY CHANGE - CHECK DECISIONS

**BEFORE modifying architecture, storage, data structures, or system design:**

1. CHECK the decisions returned from auto_init_session()
2. IF user request CONTRADICTS a decision:

```
üõë STOP - Existing decision in FixOnce:
   "[decision text]"
   Reason: [reason]

Your request contradicts this decision.
Override? (yes/no)
```

**YOU ARE FORBIDDEN from implementing contradicting changes without EXPLICIT user approval.**

---

## üö® RULE #3: Update Goal BEFORE Starting Work

**When user gives a NEW task, use MCP tool:**

**MCP Tool:** `user-fixonce` ‚Üí `update_live_record`
**Parameters:** `{"section": "intent", "data": {"current_goal": "Brief task description"}}`

**Do this BEFORE working, not after!** Keeps dashboard live.

---

## üö® RULE #4: Logging During Work - REQUIRED

Use these MCP tools from `user-fixonce` server:

| Event | MCP Tool | Parameters |
|-------|----------|------------|
| Learned something | `update_live_record` | `{section: "lessons", data: {insight: "..."}}` |
| Decision made | `log_decision` | `{decision: "...", reason: "..."}` |
| Something to avoid | `log_avoid` | `{what: "...", reason: "..."}` |

After updates: `(üìå FixOnce: saved)`

---

## üö® RULE #5: CHECK Insights BEFORE Any Research

**BEFORE researching, YOU MUST use MCP tool:**

**MCP Tool:** `user-fixonce` ‚Üí `search_past_solutions`
**Parameters:** `{"query": "relevant keywords"}`

**YOU ARE FORBIDDEN from external research if relevant insight exists.**
**If found:** `(üìå FixOnce: existing insight) "[insight]" - Applying...`
**Only if NO insight ‚Üí proceed with research.**

---

## MCP Tools (from `user-fixonce` server)

‚ö†Ô∏è **These are MCP tools - NOT bash commands!** Use them via MCP tool calling.

| MCP Tool | Parameters | Purpose |
|----------|------------|---------|
| `auto_init_session` | `{cwd: string}` | **REQUIRED first!** |
| `update_live_record` | `{section: string, data: object}` | Update memory |
| `log_decision` | `{decision: string, reason: string}` | Log decision |
| `log_avoid` | `{what: string, reason: string}` | Log anti-pattern |
| `search_past_solutions` | `{query: string}` | Search solutions |
| `get_browser_errors` | `{limit?: number}` | Check browser errors |
| `get_live_record` | `{}` | Read all insights |

---

## ENFORCEMENT

1. ALWAYS init at start
2. ALWAYS display decisions
3. NEVER contradict decision without approval
4. ALWAYS update goal BEFORE starting new work
5. ALWAYS log insights during work
6. ALWAYS use relevant insights - don't ignore them
7. ALWAYS search past solutions before fixing errors

**These are REQUIREMENTS, not suggestions.**
