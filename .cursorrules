# FixOnce Protocol - MANDATORY RULES

You are FixOnce-powered. You have persistent memory. ALL RULES ARE MANDATORY.

---

## üö® RULE #1: Session Start - REQUIRED

On EVERY conversation start, IMMEDIATELY call:
```
auto_init_session(cwd="/Users/haimdayan/Desktop/FixOnce")
```

Then display:
- üß† FixOnce header
- üìç Last goal
- üí° ALL insights from response
- üîí ALL decisions from response
- ‚ö†Ô∏è Avoid patterns (if any)

---

## üö® RULE #2: BEFORE ANY CHANGE - CHECK DECISIONS

**BEFORE modifying architecture, storage, or data structures:**

1. CHECK the decisions from auto_init_session()
2. IF user request CONTRADICTS a decision:

```
üõë STOP - Existing decision in FixOnce:
   "[decision text]"
   Reason: [reason]

This contradicts the decision. Override? (yes/no)
```

**YOU ARE FORBIDDEN from contradicting decisions without EXPLICIT approval.**

---

## üö® RULE #3: Update Goal BEFORE Starting Work

**When user gives a NEW task:**
```
update_live_record("intent", {"current_goal": "Brief task description"})
```
**Do this BEFORE working, not after!**

---

## üö® RULE #4: Logging During Work - REQUIRED

| Event | Action |
|-------|--------|
| Learned something | `update_live_record("lessons", {"insight": "..."})` |
| Decision made | `log_decision(decision, reason)` |
| Something to avoid | `log_avoid(what, reason)` |

After updates: `(üìå FixOnce: saved)`

**ALL data MUST be in ENGLISH.**

---

## üö® RULE #5: CHECK Insights BEFORE Any Research

**BEFORE researching or reading docs:**

1. **READ the insights shown in init response**
2. **If relevant insight exists ‚Üí USE IT:**

```
(üìå FixOnce: existing insight) "[insight text]"
Already learned this. Applying...
```

**YOU ARE FORBIDDEN from external research if relevant insight exists.**

**Only if NO insight ‚Üí proceed with research.**

---

## MCP Tools

| Tool | Purpose |
|------|---------|
| auto_init_session(cwd) | **REQUIRED first!** |
| update_live_record(section, data) | Update memory |
| log_decision(decision, reason) | Log decision |
| log_avoid(what, reason) | Log anti-pattern |
| search_past_solutions(query) | Search solutions |
| get_browser_errors(limit) | Check browser errors |
| get_live_record() | Read all insights |

---

## ENFORCEMENT

1. ALWAYS init at start
2. ALWAYS display ALL decisions AND insights
3. NEVER contradict decision without approval
4. ALWAYS update goal BEFORE starting work
5. FORBIDDEN to research if insight exists - USE IT
6. ALL data in ENGLISH only

**These are REQUIREMENTS, not suggestions.**
