{
  "suite": "FixOnce Brutal Memory Integrity Suite",
  "version": "1.0.0",
  "description": "Adversarial tests for memory/decisions/context/solutions linking robustness.",
  "tests": [
    {
      "id": "context_endpoint_exists",
      "title": "Context endpoint returns context.md",
      "expected": "GET /api/context returns status ok and markdown content with non-trivial length."
    },
    {
      "id": "decisions_authority_persists",
      "title": "Decisions persist and remain queryable",
      "expected": "POST /api/memory/decisions adds a decision; GET /api/memory/decisions includes it."
    },
    {
      "id": "context_regeneration_after_intent_update",
      "title": "Context regenerates after intent update",
      "expected": "After PUT /api/memory/live-record/intent, /api/context contains updated goal text."
    },
    {
      "id": "incident_linking_live_and_memory",
      "title": "Mock live error links to active issues",
      "expected": "POST /api/test/mock_live_error appears in /api/live-errors and /api/memory/issues."
    },
    {
      "id": "dedup_same_error_signature",
      "title": "Duplicate errors are deduplicated",
      "expected": "Injecting same error multiple times results in single active issue with count >= 3."
    },
    {
      "id": "spam_prevention_live_log_bound",
      "title": "Live error log remains bounded under spam",
      "expected": "After high-volume inject, /api/live-errors count does not exceed configured ring buffer size."
    },
    {
      "id": "solution_matching_robustness_insight_search",
      "title": "Noisy query still matches recorded insight",
      "expected": "After storing a unique lesson insight, /api/memory/search with noisy query returns relevant result."
    },
    {
      "id": "handoff_meaningfulness",
      "title": "Handover stores meaningful summary",
      "expected": "POST /api/memory/handover then GET returns non-empty summary including critical terms."
    },
    {
      "id": "avoid_pattern_registration",
      "title": "Avoid list captures anti-patterns",
      "expected": "POST /api/memory/avoid persists and is retrievable via GET."
    }
  ]
}

